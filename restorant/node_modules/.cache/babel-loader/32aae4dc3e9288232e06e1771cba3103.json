{"ast":null,"code":"import { LOGIN } from \"../Constant\";\nimport { useDispatch } from \"react-redux\";\nconst dispatch = useDispatch();\nexport const login = data => {\n  fetch('http://localhost:8000/token-auth/', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  }).then(response => {\n    response.json().then(result => {\n      if (result.token) {\n        data = {\n          token: result.token,\n          login: true\n        };\n        dispatch(data);\n      } else {\n        alert(\"Invalid username or password\");\n      }\n    });\n  });\n  console.log(\"data\", data);\n  return {\n    type: LOGIN,\n    data: data\n  };\n};","map":{"version":3,"sources":["/home/rails/learning/react/Restorent-Django-React-Redux/Django-React/restorant/src/Services/Action/action.js"],"names":["LOGIN","useDispatch","dispatch","login","data","fetch","method","headers","body","JSON","stringify","then","response","json","result","token","alert","console","log","type"],"mappings":"AAAA,SAASA,KAAT,QAAsB,aAAtB;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,MAAMC,QAAQ,GAAGD,WAAW,EAA5B;AAEA,OAAO,MAAME,KAAK,GAAIC,IAAD,IAAU;AAC3BC,EAAAA,KAAK,CAAC,mCAAD,EAAsC;AACvCC,IAAAA,MAAM,EAAE,MAD+B;AAEvCC,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX,KAF8B;AAKvCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf;AALiC,GAAtC,CAAL,CAMGO,IANH,CAOKC,QAAD,IAAc;AACVA,IAAAA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CACKG,MAAD,IAAY;AACR,UAAIA,MAAM,CAACC,KAAX,EAAkB;AACdX,QAAAA,IAAI,GAAG;AACHW,UAAAA,KAAK,EAAED,MAAM,CAACC,KADX;AAEHZ,UAAAA,KAAK,EAAC;AAFH,SAAP;AAKAD,QAAAA,QAAQ,CAACE,IAAD,CAAR;AACH,OAPD,MAOO;AACHY,QAAAA,KAAK,CAAC,8BAAD,CAAL;AACH;AACJ,KAZL;AAaH,GArBL;AAsBIC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBd,IAAnB;AACJ,SAAO;AACHe,IAAAA,IAAI,EAAEnB,KADH;AAEHI,IAAAA,IAAI,EAAEA;AAFH,GAAP;AAIH,CA5BM","sourcesContent":["import { LOGIN } from \"../Constant\";\nimport { useDispatch } from \"react-redux\";\n\nconst dispatch = useDispatch()\n\nexport const login = (data) => {\n    fetch('http://localhost:8000/token-auth/', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n    }).then(\n        (response) => {\n            response.json().then(\n                (result) => {\n                    if (result.token) {\n                        data = {\n                            token: result.token,\n                            login:true\n                        }\n                        \n                        dispatch(data)\n                    } else {\n                        alert(\"Invalid username or password\");\n                    }\n                })\n        })\n        console.log(\"data\",data)\n    return {\n        type: LOGIN,\n        data: data\n    }\n}\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}