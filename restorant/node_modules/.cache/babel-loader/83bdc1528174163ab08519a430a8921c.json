{"ast":null,"code":"var _jsxFileName = \"/home/rails/learning/react/Restorent-Django-React-Redux/Django-React/restorant/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport CustomNavbar from './Navbar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n  }\n\n  login() {\n    // fetch('http://localhost:8000/token-auth/', {\n    //     method: 'POST',\n    //     headers: {\n    //         'Content-Type': 'application/json'\n    //     },\n    //     body: JSON.stringify(this.state)\n    // }).then(\n    //     (response) => {\n    //         response.json().then(\n    //             (result) => {\n    //                 if (result.token) {\n    //                     localStorage.setItem('token', result.token);\n    //                     this.props.history.push('list')\n    //                 } else {\n    //                     alert(\"Invalid username or password\");\n    //                 }\n    //             })\n    //     })\n    this.props.loginHandler(this.state).then(result => {\n      debugger;\n      this.props.history.push('list');\n    }).catch(err => {});\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(CustomNavbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Login Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        placeholder: \"Username\",\n        onChange: e => this.setState({\n          username: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        onChange: e => this.setState({\n          password: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => this.login(),\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/rails/learning/react/Restorent-Django-React-Redux/Django-React/restorant/src/components/Login.js"],"names":["React","Component","CustomNavbar","Login","constructor","state","username","password","login","props","loginHandler","then","result","history","push","catch","err","render","e","setState","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,YAAP,MAAyB,UAAzB;;;AACA,MAAMC,KAAN,SAAoBF,SAApB,CAA8B;AAC1BG,EAAAA,WAAW,GAAG;AACV;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,EADD;AAETC,MAAAA,QAAQ,EAAE;AAFD,KAAb;AAIH;;AAEDC,EAAAA,KAAK,GAAG;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAKC,KAAL,CAAWC,YAAX,CAAwB,KAAKL,KAA7B,EAAoCM,IAApC,CAA0CC,MAAD,IAAY;AACjD;AACA,WAAKH,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CAAwB,MAAxB;AACH,KAHD,EAGGC,KAHH,CAGUC,GAAD,IAAS,CAEjB,CALD;AAMH;;AACDC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,8BACI,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,IAAI,EAAC,UAFT;AAGI,QAAA,WAAW,EAAC,UAHhB;AAII,QAAA,QAAQ,EAAGC,CAAD,IAAO,KAAKC,QAAL,CAAc;AAAEb,UAAAA,QAAQ,EAAEY,CAAC,CAACE,MAAF,CAASC;AAArB,SAAd;AAJrB;AAAA;AAAA;AAAA;AAAA,cAHJ,eAQM;AAAA;AAAA;AAAA;AAAA,cARN,eAQY;AAAA;AAAA;AAAA;AAAA,cARZ,eASI;AACI,QAAA,IAAI,EAAC,UADT;AAEI,QAAA,IAAI,EAAC,UAFT;AAGI,QAAA,WAAW,EAAC,UAHhB;AAII,QAAA,QAAQ,EAAGH,CAAD,IAAO,KAAKC,QAAL,CAAc;AAAEZ,UAAAA,QAAQ,EAAEW,CAAC,CAACE,MAAF,CAASC;AAArB,SAAd;AAJrB;AAAA;AAAA;AAAA;AAAA,cATJ,eAcM;AAAA;AAAA;AAAA;AAAA,cAdN,eAcY;AAAA;AAAA;AAAA;AAAA,cAdZ,eAeI;AAAQ,QAAA,OAAO,EAAE,MAAM,KAAKb,KAAL,EAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAfJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAmBH;;AAvDyB;;AA0D9B,eAAeL,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport CustomNavbar from './Navbar';\nclass Login extends Component {\n    constructor() {\n        super()\n        this.state = {\n            username: \"\",\n            password: \"\",\n        }\n    }\n\n    login() {\n        // fetch('http://localhost:8000/token-auth/', {\n        //     method: 'POST',\n        //     headers: {\n        //         'Content-Type': 'application/json'\n        //     },\n        //     body: JSON.stringify(this.state)\n        // }).then(\n        //     (response) => {\n        //         response.json().then(\n        //             (result) => {\n        //                 if (result.token) {\n        //                     localStorage.setItem('token', result.token);\n        //                     this.props.history.push('list')\n        //                 } else {\n        //                     alert(\"Invalid username or password\");\n        //                 }\n        //             })\n        //     })\n        this.props.loginHandler(this.state).then((result) => {\n            debugger\n            this.props.history.push('list')\n        }).catch((err) => {\n            \n        });\n    }\n    render() {\n        return (\n            <div>\n                <CustomNavbar />\n                <h2>Login Page</h2>\n                <input\n                    type=\"text\"\n                    name='username'\n                    placeholder=\"Username\"\n                    onChange={(e) => this.setState({ username: e.target.value })}\n                /><br /><br />\n                <input\n                    type=\"password\"\n                    name='password'\n                    placeholder=\"Password\"\n                    onChange={(e) => this.setState({ password: e.target.value })}\n                /><br /><br />\n                <button onClick={() => this.login()}>Login</button>\n            </div>\n        );\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}