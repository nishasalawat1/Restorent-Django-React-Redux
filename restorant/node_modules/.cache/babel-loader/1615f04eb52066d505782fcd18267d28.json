{"ast":null,"code":"import { LOGIN } from \"../Constant\";\nexport const login = data => {\n  return dispatch => {\n    dispatch(fetchProductsBegin());\n    return fetch('http://localhost:8000/token-auth/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(handleErrors).then(res => res.json()).then(json => {\n      dispatch(fetchProductsSuccess(json.token));\n      return json.token;\n    }).catch(error => dispatch(fetchProductsFailure(error)));\n  };\n}; // Handle HTTP errors since fetch won't.\n\nfunction handleErrors(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n\n  return response;\n}","map":{"version":3,"sources":["/home/rails/learning/react/Restorent-Django-React-Redux/Django-React/restorant/src/Services/Action/action.js"],"names":["LOGIN","login","data","dispatch","fetchProductsBegin","fetch","method","headers","body","JSON","stringify","then","handleErrors","res","json","fetchProductsSuccess","token","catch","error","fetchProductsFailure","response","ok","Error","statusText"],"mappings":"AAAA,SAASA,KAAT,QAAsB,aAAtB;AAEA,OAAO,MAAMC,KAAK,GAAIC,IAAD,IAAU;AAC3B,SAAOC,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACC,kBAAkB,EAAnB,CAAR;AACA,WAAOC,KAAK,CAAC,mCAAD,EAAsC;AAC9CC,MAAAA,MAAM,EAAE,MADsC;AAE9CC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAFqC;AAK9CC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,IAAf;AALwC,KAAtC,CAAL,CAMJS,IANI,CAMCC,YAND,EAOFD,IAPE,CAOGE,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAPV,EAQFH,IARE,CAQGG,IAAI,IAAI;AACVX,MAAAA,QAAQ,CAACY,oBAAoB,CAACD,IAAI,CAACE,KAAN,CAArB,CAAR;AACA,aAAOF,IAAI,CAACE,KAAZ;AACH,KAXE,EAYFC,KAZE,CAYIC,KAAK,IAAIf,QAAQ,CAACgB,oBAAoB,CAACD,KAAD,CAArB,CAZrB,CAAP;AAaH,GAfD;AAgBH,CAjBM,C,CAmBP;;AACA,SAASN,YAAT,CAAsBQ,QAAtB,EAAgC;AAC5B,MAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AACd,UAAMC,KAAK,CAACF,QAAQ,CAACG,UAAV,CAAX;AACH;;AACD,SAAOH,QAAP;AACH","sourcesContent":["import { LOGIN } from \"../Constant\";\n\nexport const login = (data) => {\n    return dispatch => {\n        dispatch(fetchProductsBegin());\n        return fetch('http://localhost:8000/token-auth/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data)\n        }).then(handleErrors)\n            .then(res => res.json())\n            .then(json => {\n                dispatch(fetchProductsSuccess(json.token));\n                return json.token;\n            })\n            .catch(error => dispatch(fetchProductsFailure(error)));\n    };\n}\n\n// Handle HTTP errors since fetch won't.\nfunction handleErrors(response) {\n    if (!response.ok) {\n        throw Error(response.statusText);\n    }\n    return response;\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}