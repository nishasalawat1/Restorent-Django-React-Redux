{"ast":null,"code":"import { LOGIN, LOGIN_API_BEGIN, LOGIN_API_SUCCESS, LOGIN_API_FAILURE } from \"../Constant\";\nexport const LoginApIBegin = () => ({\n  type: FETCH_PRODUCTS_BEGIN\n});\n_c = LoginApIBegin;\nexport const LoginApISuccess = data => ({\n  type: FETCH_PRODUCTS_SUCCESS,\n  data: {\n    data\n  }\n});\n_c2 = LoginApISuccess;\nexport const LoginApIFailure = error => ({\n  type: FETCH_PRODUCTS_FAILURE,\n  data: {\n    error\n  }\n});\n_c3 = LoginApIFailure;\nexport const login = data => {\n  return dispatch => {\n    dispatch(fetchProductsBegin());\n    return fetch('http://localhost:8000/token-auth/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(handleErrors).then(res => res.json()).then(json => {\n      dispatch(fetchProductsSuccess(json.token));\n      return json.token;\n    }).catch(error => dispatch(fetchProductsFailure(error)));\n  };\n}; // Handle HTTP errors since fetch won't.\n\nfunction handleErrors(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n\n  return response;\n}\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"LoginApIBegin\");\n$RefreshReg$(_c2, \"LoginApISuccess\");\n$RefreshReg$(_c3, \"LoginApIFailure\");","map":{"version":3,"sources":["/home/rails/learning/react/Restorent-Django-React-Redux/Django-React/restorant/src/Services/Action/action.js"],"names":["LOGIN","LOGIN_API_BEGIN","LOGIN_API_SUCCESS","LOGIN_API_FAILURE","LoginApIBegin","type","FETCH_PRODUCTS_BEGIN","LoginApISuccess","data","FETCH_PRODUCTS_SUCCESS","LoginApIFailure","error","FETCH_PRODUCTS_FAILURE","login","dispatch","fetchProductsBegin","fetch","method","headers","body","JSON","stringify","then","handleErrors","res","json","fetchProductsSuccess","token","catch","fetchProductsFailure","response","ok","Error","statusText"],"mappings":"AAAA,SAASA,KAAT,EAAgBC,eAAhB,EAAiCC,iBAAjC,EAAoDC,iBAApD,QAA6E,aAA7E;AAEA,OAAO,MAAMC,aAAa,GAAG,OAAO;AAChCC,EAAAA,IAAI,EAAEC;AAD0B,CAAP,CAAtB;KAAMF,a;AAIb,OAAO,MAAMG,eAAe,GAAGC,IAAI,KAAK;AACpCH,EAAAA,IAAI,EAAEI,sBAD8B;AAEpCD,EAAAA,IAAI,EAAE;AAAEA,IAAAA;AAAF;AAF8B,CAAL,CAA5B;MAAMD,e;AAKb,OAAO,MAAMG,eAAe,GAAGC,KAAK,KAAK;AACrCN,EAAAA,IAAI,EAAEO,sBAD+B;AAErCJ,EAAAA,IAAI,EAAE;AAAEG,IAAAA;AAAF;AAF+B,CAAL,CAA7B;MAAMD,e;AAOb,OAAO,MAAMG,KAAK,GAAIL,IAAD,IAAU;AAC3B,SAAOM,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACC,kBAAkB,EAAnB,CAAR;AACA,WAAOC,KAAK,CAAC,mCAAD,EAAsC;AAC9CC,MAAAA,MAAM,EAAE,MADsC;AAE9CC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAFqC;AAK9CC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeb,IAAf;AALwC,KAAtC,CAAL,CAMJc,IANI,CAMCC,YAND,EAOFD,IAPE,CAOGE,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAPV,EAQFH,IARE,CAQGG,IAAI,IAAI;AACVX,MAAAA,QAAQ,CAACY,oBAAoB,CAACD,IAAI,CAACE,KAAN,CAArB,CAAR;AACA,aAAOF,IAAI,CAACE,KAAZ;AACH,KAXE,EAYFC,KAZE,CAYIjB,KAAK,IAAIG,QAAQ,CAACe,oBAAoB,CAAClB,KAAD,CAArB,CAZrB,CAAP;AAaH,GAfD;AAgBH,CAjBM,C,CAmBP;;AACA,SAASY,YAAT,CAAsBO,QAAtB,EAAgC;AAC5B,MAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AACd,UAAMC,KAAK,CAACF,QAAQ,CAACG,UAAV,CAAX;AACH;;AACD,SAAOH,QAAP;AACH","sourcesContent":["import { LOGIN, LOGIN_API_BEGIN, LOGIN_API_SUCCESS, LOGIN_API_FAILURE } from \"../Constant\";\n\nexport const LoginApIBegin = () => ({\n    type: FETCH_PRODUCTS_BEGIN\n});\n\nexport const LoginApISuccess = data => ({\n    type: FETCH_PRODUCTS_SUCCESS,\n    data: { data }\n});\n\nexport const LoginApIFailure = error => ({\n    type: FETCH_PRODUCTS_FAILURE,\n    data: { error }\n});\n\n\n\nexport const login = (data) => {\n    return dispatch => {\n        dispatch(fetchProductsBegin());\n        return fetch('http://localhost:8000/token-auth/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data)\n        }).then(handleErrors)\n            .then(res => res.json())\n            .then(json => {\n                dispatch(fetchProductsSuccess(json.token));\n                return json.token;\n            })\n            .catch(error => dispatch(fetchProductsFailure(error)));\n    };\n}\n\n// Handle HTTP errors since fetch won't.\nfunction handleErrors(response) {\n    if (!response.ok) {\n        throw Error(response.statusText);\n    }\n    return response;\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}