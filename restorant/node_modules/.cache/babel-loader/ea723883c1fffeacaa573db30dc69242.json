{"ast":null,"code":"import { LOGIN, LOGIN_API_BEGIN, LOGIN_API_SUCCESS, LOGIN_API_FAILURE } from \"../Constant\";\nexport const LoginApIBegin = () => ({\n  type: LOGIN_API_BEGIN\n});\n_c = LoginApIBegin;\nexport const LoginApISuccess = login_response => ({\n  type: LOGIN_API_SUCCESS,\n  payload: login_response\n});\n_c2 = LoginApISuccess;\nexport const LoginApIFailure = error => ({\n  type: LOGIN_API_FAILURE,\n  payload: error\n});\n_c3 = LoginApIFailure;\nexport const login = login_form_data => {\n  debugger;\n  return dispatch => {\n    dispatch(LoginApIBegin());\n    return fetch('http://localhost:8000/token-auth/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(login_form_data)\n    }).then(handleErrors).then(res => res.json()).then(json => {\n      dispatch(LoginApISuccess(json));\n      return json;\n    }).catch(error => dispatch(LoginApIFailure(error)));\n  };\n}; // Handle HTTP errors since fetch won't.\n\nfunction handleErrors(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n\n  return response;\n}\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"LoginApIBegin\");\n$RefreshReg$(_c2, \"LoginApISuccess\");\n$RefreshReg$(_c3, \"LoginApIFailure\");","map":{"version":3,"sources":["/home/rails/learning/react/Restorent-Django-React-Redux/Django-React/restorant/src/Services/Action/action.js"],"names":["LOGIN","LOGIN_API_BEGIN","LOGIN_API_SUCCESS","LOGIN_API_FAILURE","LoginApIBegin","type","LoginApISuccess","login_response","payload","LoginApIFailure","error","login","login_form_data","dispatch","fetch","method","headers","body","JSON","stringify","then","handleErrors","res","json","catch","response","ok","Error","statusText"],"mappings":"AAAA,SAASA,KAAT,EAAgBC,eAAhB,EAAiCC,iBAAjC,EAAoDC,iBAApD,QAA6E,aAA7E;AAGA,OAAO,MAAMC,aAAa,GAAG,OAAO;AAChCC,EAAAA,IAAI,EAAEJ;AAD0B,CAAP,CAAtB;KAAMG,a;AAIb,OAAO,MAAME,eAAe,GAAGC,cAAc,KAAK;AAC9CF,EAAAA,IAAI,EAAEH,iBADwC;AAE9CM,EAAAA,OAAO,EAAED;AAFqC,CAAL,CAAtC;MAAMD,e;AAKb,OAAO,MAAMG,eAAe,GAAGC,KAAK,KAAK;AACrCL,EAAAA,IAAI,EAAEF,iBAD+B;AAErCK,EAAAA,OAAO,EAAEE;AAF4B,CAAL,CAA7B;MAAMD,e;AAKb,OAAO,MAAME,KAAK,GAAIC,eAAD,IAAqB;AACtC;AACA,SAAOC,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACT,aAAa,EAAd,CAAR;AACA,WAAOU,KAAK,CAAC,mCAAD,EAAsC;AAC9CC,MAAAA,MAAM,EAAE,MADsC;AAE9CC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAFqC;AAK9CC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,eAAf;AALwC,KAAtC,CAAL,CAMJQ,IANI,CAMCC,YAND,EAOFD,IAPE,CAOGE,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAPV,EAQFH,IARE,CAQGG,IAAI,IAAI;AACVV,MAAAA,QAAQ,CAACP,eAAe,CAACiB,IAAD,CAAhB,CAAR;AACA,aAAOA,IAAP;AACH,KAXE,EAYFC,KAZE,CAYId,KAAK,IAAIG,QAAQ,CAACJ,eAAe,CAACC,KAAD,CAAhB,CAZrB,CAAP;AAaH,GAfD;AAgBH,CAlBM,C,CAoBP;;AACA,SAASW,YAAT,CAAsBI,QAAtB,EAAgC;AAC5B,MAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AACd,UAAMC,KAAK,CAACF,QAAQ,CAACG,UAAV,CAAX;AACH;;AACD,SAAOH,QAAP;AACH","sourcesContent":["import { LOGIN, LOGIN_API_BEGIN, LOGIN_API_SUCCESS, LOGIN_API_FAILURE } from \"../Constant\";\n\n\nexport const LoginApIBegin = () => ({\n    type: LOGIN_API_BEGIN\n});\n\nexport const LoginApISuccess = login_response => ({\n    type: LOGIN_API_SUCCESS,\n    payload: login_response \n});\n\nexport const LoginApIFailure = error => ({\n    type: LOGIN_API_FAILURE,\n    payload: error \n});\n\nexport const login = (login_form_data) => {\n    debugger\n    return dispatch => {\n        dispatch(LoginApIBegin());\n        return fetch('http://localhost:8000/token-auth/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(login_form_data)\n        }).then(handleErrors)\n            .then(res => res.json())\n            .then(json => {\n                dispatch(LoginApISuccess(json));\n                return json\n            })\n            .catch(error => dispatch(LoginApIFailure(error)));\n    };\n}\n\n// Handle HTTP errors since fetch won't.\nfunction handleErrors(response) {\n    if (!response.ok) {\n        throw Error(response.statusText);\n    }\n    return response;\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}